<!DOCTYPE html>
<html lang="en">
<head>
    <title>Fates List</title>
    {% block head %}
      
    {% endblock %}
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Add Material font (Roboto) and Material icon as needed -->
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;700&family=Roboto+Slab:wght@300;400;700&family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet" crossorigin>
    <link rel="shortcut icon" href="/static/favicon.ico"/>
    <!-- Material CSS -->
    <link href="https://cdn.jsdelivr.net/gh/djibe/material@4.5.3-rc3/css/material.min.css" rel="stylesheet" crossorigin>

    <link href="https://cdn.jsdelivr.net/gh/djibe/material@4.5.3-rc3/css/material-plugins.min.css" rel="stylesheet" crossorigin>
    <link href="https://djibe.github.io/material/docs/css/docs.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/assets/fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="/static/assets/css/front-head.css">
    <link rel="stylesheet" href="/static/assets/css/styles.css">
    <style>
        .btn {
            border-radius: 100px 100px 100px 100px !important;
        }
::selection {
  background: #ffb7b7 !important; /* WebKit/Blink Browsers */
}
::-moz-selection {
  background: #ffb7b7 !important; /* Gecko Browsers */
}

  </style>
</head>
<body style="background: #1D1E23;">
<header role="navigation" style="background: #221d26; color: white;" class="navbar fixed-top navbar-full navbar-light navigation-clean-button" aria-label="Site Navigation Menu">
  <div class="navbar-brand">
     <a href="/" class="navbar-brand"><img style="margin-right: 5px;" width="30px" src="/static/assets/img/b7e5d6e0a9f6fddb68ea920a07546e6a%20(1).png"><span class="sr-only">Toggle navigation</span>Fates List</a>
   </div>
   <ul class="navbar-nav ml-auto">
     <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-333" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
        {% if username %}<img width="25px" style="border-radius: 50%; margin-right: 3px;" src="{{avatar}}">{{username}} {% else %} Not Logged In <i class="fas fa-frown" aria-hidden="true" role="presentation"></i>{%endif%}
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink-333">
          {% if username %}
          <a class="dropdown-item" href="/profile/me">My Profile</a>
          <a class="dropdown-item" href="/bot/admin/add">Add Bot</a>
          <a class="dropdown-item" href="/support" target=”_blank”>Support Server</a>
          <a class="dropdown-item" href="/docs">API Docs (Swagger)</a>
	  <a class="dropdown-item" href="/redoc">API Docs (Redoc)</a>
	  <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="/logout">Logout</a>
	  {% if staff[0] %}
          <a class="dropdown-item" href="/admin/console">Admin Console</a>
	  {%endif%}
          {% else %}
          <a class="dropdown-item" href="/login">Login</a>
          <a class="dropdown-item" href="/support">Support Server</a>
          <a class="dropdown-item" href="/docs">API Docs (Swagger)</a>
          <a class="dropdown-item" href="/redoc">API Docs (Redoc)</a>
           {%endif%}
         </div>
      </li>
  </ul>
</header>
    <!-- jQuery, Bootstrap Bundle (includes Popper) and Material -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" crossorigin></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha256-jXCJJT3KKcnNjZ3rfsabCj1EX4j2omR4xxm+H5CtywE=" crossorigin></script>
    <script src="https://cdn.jsdelivr.net/gh/djibe/material@4.5.3-rc3/js/material.min.js" crossorigin async></script>

    <div id="content" style="margin-top: 100px;">{% block content %}{% endblock %}</div>
    <div id="footer">
      {% block footer %}

      {% endblock %}

</body>
<script>
    function getFormData($form){
        var unindexed_array = $form.serializeArray();
        var indexed_array = {};

        $.map(unindexed_array, function(n, i){
            indexed_array[n['name']] = n['value'];
        });

        return indexed_array;
    }

    function postjson(post_url, post_data) {
                var xhr = new XMLHttpRequest();
                xhr.open("POST", post_url, true);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.onreadystatechange = function () {
                    if(xhr.readyState === XMLHttpRequest.DONE) {
                        var json = JSON.parse(xhr.responseText);
                        alert(json.error);
                    }
                };
                var data = JSON.stringify(post_data);
                xhr.send(data);
        };

    function sendForm(server_url) {
        var formData = getFormData( $("#Sform") );
        postjson(server_url, formData);
    }
</script>
</html>
